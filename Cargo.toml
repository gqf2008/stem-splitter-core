[package]
name = "stem-splitter-core"
version = "1.1.0"
edition = "2021"
description = "Core library for AI-powered audio stem separation"
license = "MIT OR Apache-2.0"
repository = "https://github.com/gentij/stem-splitter-core"
homepage = "https://github.com/gentij/stem-splitter-core"
documentation = "https://github.com/gentij/stem-splitter-core"
readme = "README.md"
keywords = ["audio", "stem", "separation", "ai", "music"]
categories = ["multimedia::audio", "science"]
authors = ["Gentrit Jashari gentijashari5@gmail.com"]
include = [
  "src/**",
  "models/**",
  "Cargo.toml",
  "README.md",
  "LICENSE*"
]
# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html

[dependencies]
hound = "3"         
rubato = "0.12"     
ndarray = "0.15"    
anyhow = "1"        
symphonia = { version = "0.5", features = ["mp3", "wav"] }
tempfile = "3.8"
ort = { version = "2.0.0-rc.10", features = ["download-binaries", "copy-dylibs"] }
serde = { version="1", features=["derive"] }
serde_json = "1"
reqwest = { version="0.12", features=["blocking","json"] }
sha2 = "0.10"
hex = "0.4"
directories = "5"
thiserror = "1"
rand = "0.8"
once_cell = "1.19" 
rustfft = "6"
num-complex = "0.4"
approx = "0.5.1"
rayon = "1.10"      # Parallel processing for iSTFT

[dev-dependencies]
rand = "0.8"                  # to generate random test data
httpmock = "0.7"              # to simulate remote manifest/model servers
tempfile = "3.8"              # also used in tests for isolated dirs

[features]
default = ["onednn"]
engine-mock = []

# GPU acceleration providers - enable based on your hardware
cuda = ["ort/cuda"]              # NVIDIA GPUs (Linux, Windows)
tensorrt = ["ort/tensorrt"]      # NVIDIA TensorRT (high performance)
coreml = ["ort/coreml"]          # Apple Silicon (macOS only)  
directml = ["ort/directml"]      # DirectML (Windows, any GPU)
onednn = ["ort/onednn"]          # Intel optimized (all platforms)
half = ["ort/half"]              # FP16 half-precision (faster on GPU)

